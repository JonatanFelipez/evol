module SIGModelMetrics::Lib::CodeCleaning

import Prelude;
import String;
import IO;

import lang::java::m3::Core;
import lang::java::jdt::m3::Core;

import SIGModelMetrics::Lib::StringCleaning;

//filter documentation out of file
public int filterDocInFile(M3 model, loc file, set[loc] commentsInFile)
{
	fileStr = readFile(file);
	
	//loop through documentation elements, convert to spaces
	for(docloc <- commentsInFile)
	{	  
	  //<pre comment string> + <space> + <post comment string>
	  filetext = replSubStr(filetext, 
	  						docloc.offset, 
	  						docloc.offset + size(readFile(docloc)), 
	  						" ");
	}
	
	return filterEmptyLines(filetext);
}

