module SIGModelMetrics::Lib::CodeCleaning

import Prelude;
import String;
import IO;

import lang::java::m3::Core;
import lang::java::jdt::m3::Core;

//filter excess lines out of text and count the lines
public str filterWhitespaceLines(str text)
{
	//split on windows newline
	list[str] lines = split("\r\n",text);
	
	//filter on whitespace lines
	edited = [line | line <- lines, !(/^\s*$/ := line)];
	
	//return the number of lines
	return size(edited);
}

//filter excess whitespace in a string
public str filterWhitespaceLines(str source)
{
	
}

public str filterEmptyLines(str source)
{
	//split on windows newline
	list[str] lines = split("\r\n",text);
	
	//filter on whitespace lines
	edited = [line | line <- lines, !(/^\s*$/ := line)];
	
	//return the number of lines
	return intercalate("\r\n", edited);
}

public str replaceSubStringWithSpace(str source, int iStart, int iEnd)
{
    //<pre comment string> + <space> + <post comment string>	
    source = substring(source, 0, iStart) +
	  		 ("" | it + " " | e <- [1..(iEnd - iStart) + 1]) +
	   		 substring(source, iEnd, size(source));	  
	
	return source;
}